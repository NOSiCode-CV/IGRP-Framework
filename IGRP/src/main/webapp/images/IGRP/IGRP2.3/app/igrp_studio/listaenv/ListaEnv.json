{"rows":[{"columns":[{"size":"col-sm-6","containers":[{"genType":"container","proprieties":{"tag":"sectionheader_1","type":"sectionheader","text":"App builder","maxlength":4000},"fields":[],"style":{"id":"","class":"","inline":""},"options":{"autoTag":false},"xsl":{"useDefault":true}}]},{"size":"col-sm-6","containers":[{"genType":"container","proprieties":{"tag":"toolsbar_1","type":"toolsbar","align":"pull-right","btnSize":"","style":"default","vertical":true,"dynamic":false,"outline":false},"fields":[{"properties":{"label":"Importar","tag":"importar","name":"p_importar","type":"button","target":"modal","target_fields":"","closerefresh":true,"action":"36","service":{"code":"","desc":"","proc":"","connectionsReq":[],"fieldsReq":[],"connectionsRes":[],"fieldsRes":[]},"transaction":false,"class":"danger","iconColor":"#333","iconClass":"","img":"fa-upload","request_fields":[],"custom_return":false},"style":{"id":"","class":"","inline":""},"options":{"autoTag":true,"rules":[]},"xsl":{"useDefault":true,"template":false}},{"properties":{"label":"Novo","tag":"novo","name":"p_novo","type":"button","target":"modal","action":"2","service":{"code":"","desc":"","connections":[]},"transaction":false,"class":"success","iconColor":"#333","iconClass":"","img":"fa-plus","target_fields":"","closerefresh":true,"request_fields":[],"custom_return":false},"style":{"id":"","class":"","inline":""},"options":{"autoTag":false,"rules":[]},"xsl":{"useDefault":true,"template":false}}],"style":{"id":"","class":"","inline":""},"options":{"autoTag":false},"xsl":{"useDefault":true}}]}],"propreties":{"class":""}},{"columns":[{"size":"col-md-12","containers":[{"genType":"container","proprieties":{"title":"Table","tag":"table_1","hasTitle":false,"collapsible":true,"type":"table","ctxMenuClass":true,"hasContextMenu":true,"dataTable":true,"ctxMenuTemplate":true,"hasColorTmpl":false,"filterTemplate":false,"filter":"","ctxType":"inl","ctxStyle":"","export":[],"exportTmpl":false,"ctxInlineTmpl":true,"ctxInlineHeadTmpl":true,"tableFooter":false,"collapsed":true},"fields":[{"properties":{"label":"Ativo?","tag":"status","name":"p_status","type":"checkbox","maxlength":30,"align":"left","lookup_parser":false,"iskey":false,"switch":true},"style":{"id":"","class":"estado","inline":""},"options":{"autoTag":false,"rules":[]},"xsl":{"useDefault":true,"template":false}},{"properties":{"label":"Name","tag":"name","name":"p_name","type":"link","target":"_self","request_fields":[],"target_fields":"","closerefresh":false,"action":"3","custom_action":"","action_type":false,"class":"link","btnSize":"","iconColor":"#333","iconClass":"","img":"fa-link","maxlength":30,"align":"left","lookup_parser":false,"iskey":false},"style":{"id":"","class":"","inline":""},"options":{"autoTag":true,"rules":[]},"xsl":{"useDefault":true,"template":false}},{"properties":{"label":"Código","tag":"dad","name":"p_dad","type":"text","maxlength":30,"align":"left","lookup_parser":false,"iskey":false},"style":{"id":"","class":"","inline":""},"options":{"autoTag":false,"rules":[]},"xsl":{"useDefault":true,"template":false}},{"properties":{"label":"Page builder","tag":"t_page_builder","name":"p_t_page_builder","type":"link","target":"_self","target_fields":"","closerefresh":false,"action":"3","class":"warning","btnSize":"","iconColor":"#333","iconClass":"","img":"fa-file-code-o","maxlength":30,"align":"left","lookup_parser":false,"iskey":false,"custom_action":"","action_type":false,"request_fields":""},"style":{"id":"","class":"","inline":""},"options":{"autoTag":false,"rules":[]},"xsl":{"useDefault":true,"template":false}},{"properties":{"tag":"id","name":"p_id","type":"hidden","maxlength":30,"iskey":true},"style":{"id":"","class":"","inline":""},"options":{"autoTag":false,"rules":[]},"xsl":{"useDefault":true,"template":false}}],"style":{"id":"","class":"stivij","inline":""},"options":{"autoTag":true},"contextMenu":[{"properties":{"label":"Editar","tag":"editar","name":"p_editar","type":"button","target":"mpsubmit","action":"3","service":{"code":"","desc":"","connections":[]},"transaction":false,"class":"warning","iconColor":"#333","iconClass":"","img":"fa-pencil","target_fields":"","closerefresh":true,"request_fields":[],"custom_return":false},"style":{"id":"","class":"","inline":""},"options":{"autoTag":true,"rules":[]},"xsl":{"useDefault":true,"template":false}},{"properties":{"label":"Eliminar","tag":"eliminar","name":"p_eliminar","type":"button","target":"confirm","target_fields":"","closerefresh":false,"action":"3","service":{"code":"","desc":"","proc":"","connectionsReq":[],"fieldsReq":[],"connectionsRes":[],"fieldsRes":[]},"transaction":false,"class":"danger","iconColor":"#333","iconClass":"","img":"fa-trash-o","request_fields":"","custom_return":false},"style":{"id":"","class":"","inline":""},"options":{"autoTag":true,"rules":[]},"xsl":{"useDefault":true,"template":false}},{"properties":{"label":"Configurar Base Dados","tag":"configurar_base_dados","name":"p_configurar_base_dados","type":"button","target":"modal","target_fields":"","closerefresh":false,"action":"3","service":{"code":"","desc":"","proc":"","connectionsReq":[],"fieldsReq":[],"connectionsRes":[],"fieldsRes":[]},"transaction":false,"class":"grey","iconColor":"#333","iconClass":"","img":"fa-database","request_fields":[],"custom_return":true},"style":{"id":"","class":"","inline":""},"options":{"autoTag":true,"rules":[]},"xsl":{"useDefault":true,"template":false}},{"properties":{"label":"Export","tag":"exportar","name":"p_exportar","type":"button","target":"confirm","target_fields":"","closerefresh":false,"action":"3","service":{"code":"","desc":"","proc":"","connectionsReq":[],"fieldsReq":[],"connectionsRes":[],"fieldsRes":[]},"transaction":false,"class":"default","iconColor":"#333","iconClass":"","img":"fa-download","request_fields":"","custom_return":false},"style":{"id":"","class":"","inline":""},"options":{"autoTag":false,"rules":[]},"xsl":{"useDefault":true,"template":false}}],"xsl":{"useDefault":false,"template":"<xsl:if xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" test=\"rows/content/table_1\">\n  <div xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" class=\"box box-table-contents gen-container-item stivij\" gen-class=\"stivij\" item-name=\"table_1\" gen-item-id=\"table1536429161126\">\n    <div class=\"box-body \">\n      <xsl:apply-templates mode=\"form-hidden-fields\" select=\"rows/content/table_1/fields\"/>\n      <div class=\"table-box\">\n        <div class=\"table-box-inner\">\n          <table id=\"table_1\" class=\"table table-striped igrp-data-table IGRP_contextmenu \" exports=\"pdf,excel\">\n            <thead>\n              <tr gen-id=\"drop-zone\" gen-field-template=\"th\">\n                <xsl:if xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" test=\"rows/content/table_1/fields/status\">\n                  <th xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" class=\"bs-checkbox gen-fields-holder estado\" align=\"center\" gen-item-id=\"checkbox-1536429161186-1813\">\n                    <span>Ativo?\n                    </span>\n                    <input type=\"checkbox\" class=\"IGRP_checkall\" check-rel=\"status\" data-title=\"Ativo?\" data-toggle=\"tooltip\"/>\n                  </th>\n                </xsl:if>\n                <xsl:if xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" test=\"rows/content/table_1/fields/name\">\n                  <th xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" align=\"left\" class=\" gen-fields-holder\" gen-item-id=\"link-1536428832629-1-914\">\n                    <span gen-lbl-setter=\"\">\n                      <xsl:value-of select=\"rows/content/table_1/fields/name/label\"/>\n                    </span>\n                  </th>\n                </xsl:if>              \n                <xsl:if xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" test=\"rows/content/table_1/fields/dad\">\n                  <th xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" align=\"left\" class=\" gen-fields-holder\" gen-item-id=\"text-1536429161314-2-2237\">\n                    <span gen-lbl-setter=\"\">\n                      <xsl:value-of select=\"rows/content/table_1/fields/dad/label\"/>\n                    </span>\n                  </th>\n                </xsl:if>\n                <xsl:if test=\"rows/content/table_1/table/context-menu/item\">\n                  <th class=\"igrp-table-ctx-th\"/>\n                </xsl:if>\n              </tr>\n            </thead>\n            <tbody>\n              <xsl:for-each select=\"rows/content/table_1/table/value/row[not(@total='yes')]\">\n                <tr gen-id=\"drop-zone\">\n                  <xsl:apply-templates mode=\"context-param\" select=\"context-menu\"/>\n                  <input xmlns=\"http://www.w3.org/1999/xhtml\" type=\"hidden\" name=\"p_id_fk\" value=\"{id}\" />\n                  <input xmlns=\"http://www.w3.org/1999/xhtml\" type=\"hidden\" name=\"p_id_fk_desc\" value=\"{id_desc}\" />\n                  <xsl:if xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" test=\"status\">\n                    <td xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" align=\"\" data-row=\"{position()}\" data-title=\"{../../label/status}\" class=\"bs-checkbox estado\" item-name=\"status\" data-order=\"{status_check=status}\" gen-item-id=\"checkbox-1536429161186-1813\">\n                      <xsl:if test=\"status != '-0'\">\n                        <label class=\"checkbox-switch switch\">\n                          <input type=\"checkbox\" name=\"p_status\" value=\"{status}\" check-rel=\"status\">\n                            <xsl:if test=\"status_check=status\">\n                              <xsl:attribute name=\"checked\">checked\n                              </xsl:attribute>\n                            </xsl:if>\n                          </input>\n                          <span class=\"slider round\"/>\n                        </label>\n                      </xsl:if>\n                    </td>\n                  </xsl:if>\n                  <xsl:if xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" test=\"name\">\n                    <td xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" align=\"left\" data-row=\"{position()}\" data-title=\"{../../label/name}\" class=\"link\" item-name=\"name\" gen-item-id=\"link-1536429161240-1-3198\">\n                      <xsl:choose>\n                        <xsl:when test=\"name != ''\">\n                          <a href=\"{name}\" class=\"link bClick btn btn-link \" target-fields=\"\" target=\"_newtab\" request-fields=\"\" name=\"name\">\n                            <span>\n                              <xsl:value-of select=\"name_desc\"/>\n                            </span>\n                          </a>\n                        </xsl:when>\n                        <xsl:otherwise>\n                          <span>\n                            <xsl:value-of select=\"name_desc\"/>\n                          </span>\n                        </xsl:otherwise>\n                      </xsl:choose>\n                    </td>\n                  </xsl:if>\n                  <xsl:if xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" test=\"dad\">\n                    <td xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" align=\"left\" data-order=\"{dad}\" data-row=\"{position()}\" data-title=\"{../../../fields/dad/label}\" class=\"text\" item-name=\"dad\" gen-item-id=\"text-1536429161314-2-2237\">\n                      <span class=\"\">\n                        <xsl:value-of select=\"dad\"/>\n                      </span>\n                    </td>\n                  </xsl:if>\n                  <xsl:if test=\"//rows/content/table_1/table/context-menu/item\">\n                    <td class=\"igrp-table-ctx-td\">\n                      <xsl:apply-templates select=\"../../context-menu\" mode=\"table-context-inline\">\n                        <xsl:with-param name=\"row-params\" select=\"context-menu\"/>\n                      </xsl:apply-templates>\n                    </td>\n                  </xsl:if>\n                </tr>\n              </xsl:for-each>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n</xsl:if>\n"}}]}],"propreties":{"class":""}}],"plsql":{"instance":"","table":"","package":"nosi.webapps.igrp_studio.pages","html":"ListaEnv","gentype":"java","replace":false,"label":false,"biztalk":false,"process":false,"subversionpath":""},"css":"th.estado input.IGRP_checkall{\ndisplay:none;\n}","js":"\n\n$('.stivij').on('change','td input[name=\"p_status\"]',function(){\n   \n     var isChecked = $(this).is(':checked'),\n        \tid = $(this).parents('tr').find('input[name=\"p_id_fk\"]').val(),\n        \tval = isChecked ? 1 : 0;\n\t\t      console.log(val);\n        $.IGRP.request('webapps?r=igrp_studio/ListaEnv/changeStatus',{\n        \tparams : {\n            \tp_id : id,\n\t\t\t\tp_status : val\n            },\n        \tsuccess:function(r){\n            \tvar type = r.status ? 'success' : 'danger',\n                \tmsg = r.status ? 'Estado alterado!' : 'Estado não foi alterado!';\n                    \n            \tif(r.status)\n                \t$.IGRP.notify({\n                    \tmessage : msg,\n                        type    : type\n                    });\n            },\n            fail:function(){\n              \n                 $('input:checkbox', this).prop('checked', function (i, value) {\n        return !value;\n       });\n            \n            }\n        });\n    \n});\n   ","files":{"css":[],"js":[],"xsl":[]},"service":{}}
