<xsl:if test="not(#tag#/@visible)">
    <td align="#[align]#" data-row="{position()}" data-title="{../../../fields/#tag#/label}" class="#type#" item-name="#[tag]#" item-type="#type#">
        <input type="hidden" name="{../../../fields/#tag#/@name}_fk_desc" value="{#tag#_desc}"/>
        <div class="form-group" item-name="#tag#" item-type="#type#">
            <div class="input-group">
                <input type="text" value="{#tag#}" class="form-control gen-lookup" id="#parent.tag#_#tag#" name="{../../../fields/#tag#/@name}_fk" #[required]# #[disabled]# #[readonly]#>
                    <xsl:call-template name="setAttributes">
                        <xsl:with-param name="field" select="#path#"/>
                    </xsl:call-template>
                </input>
                <xsl:call-template name="lookup-tool">
                    <xsl:with-param name="page" select="//rows/page"/>
                    <xsl:with-param name="ad_hoc" select="'1'"/>
                    <xsl:with-param name="action" select="'LOOKUP'"/>
                    <xsl:with-param name="name" select="//#path#/@name"/>
                    <xsl:with-param name="js_lookup" select="//#path#/lookup"/>
                    <xsl:with-param name="input-id" select="'#parent.tag#_#tag#'"/>
                    <xsl:with-param name="btnClass" select="'#[class]#'"/>
                </xsl:call-template>
                #[lookup_eraser]#
          </div>

        </div>
    </td>
</xsl:if>